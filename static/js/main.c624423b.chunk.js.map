{"version":3,"sources":["logo.svg","components/search.js","components/Header.jsx","utils/timeConverter.js","components/NewsFeed.jsx","App.js","reportWebVitals.js","index.js"],"names":["SearchBar","action","process","method","type","placeholder","id","name","to","React","Component","withRouter","Header","as","align","justify","wrap","padding","bg","size","href","color","timeConverter","unix_timestamp","a","Date","year","getFullYear","month","getMonth","getDate","fetchNews","query","response","fetch","json","news_response","setNewsItems","news_data","data","map","news","article","pushid","spacing","p","shadow","borderWidth","borderRadius","fontWeight","link","title","mt","fontSize","source","created_utc","ErrorBoundary","props","state","error","errorInfo","this","setState","style","whiteSpace","toString","componentStack","children","NewsFeed","useState","newsObject","setNewsObject","url","useLocation","search","URLSearchParams","get","trim","replace","useEffect","getNews","then","res","className","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"2JAAe,I,6KCyBTA,E,4JAMF,WACI,OACI,cAAC,IAAD,UACI,sBACIC,OAAQC,WACRC,OAAO,MAFX,SAII,cAAC,IAAD,UACI,eAAC,IAAD,WACI,cAAC,IAAD,CAAOC,KAAK,OAAOC,YAAY,oBAAoBC,GAAG,gBAAgBC,KAAK,MAC3E,cAAC,IAAD,CAAMC,GAAIN,WAAV,SACI,cAAC,IAAD,CAAQE,KAAK,SAAb,mC,GAjBRK,IAAMC,WA4BfC,cAAWX,GCJXY,EAlCA,WACX,OAEQ,eAAC,IAAD,CACIC,GAAG,MACHC,MAAM,SACNC,QAAQ,gBACRC,KAAK,OACLC,QAAQ,SACRC,GAAG,YANP,UAQI,cAAC,IAAD,UACI,cAAC,IAAD,CAASL,GAAG,KAAKM,KAAK,KAAtB,SACI,mBAAGC,KAAMlB,WAAT,8BAGR,cAAC,IAAD,IACA,cAAC,IAAD,UACI,cAAC,EAAD,MAEJ,cAAC,IAAD,IACA,eAAC,IAAD,WACI,mBAAGkB,KAAK,wCAAR,SACI,cAAC,IAAD,CAAcD,KAAK,UAEvB,mBAAGC,KAAK,qCAAR,SACI,cAAC,IAAD,CAAYD,KAAK,MAAME,MAAM,oBAGrC,cAAC,IAAD,Q,0DClCDC,MAVf,SAAuBC,GACnB,IAAIC,EAAI,IAAIC,KAAsB,IAAjBF,GAEbG,EAAOF,EAAEG,cACTC,EAFS,CAAC,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,OAE7DJ,EAAEK,YAGrB,OAFWL,EAAEM,UACK,IAAMF,EAAQ,IAAMF,GCapCK,EAAS,uCAAG,WAAOC,GAAP,iBAAAR,EAAA,yDACVS,EAAW,GACF,IAATD,EAFU,gCAGOE,MAAM,GAAD,OAAIhC,4CAHhB,OAGV+B,EAHU,8CAMOC,MAAM,GAAD,OAAIhC,0CAAJ,cAAmD8B,EAAnD,cANZ,OAMVC,EANU,gCAQcA,EAASE,OARvB,eAQRC,EARQ,yBAwCPA,GAxCO,4CAAH,sDA2CTC,EAAe,SAACC,GAyBlB,OAD6CA,EALTC,KAAKC,KACjC,SAACC,GAAD,OAnBUC,EAmBSD,EAnBAnC,EAmBMqC,MAlB7B,cAAC,IAAD,CAAKC,QAAS,EAAGC,EAAE,IAAIC,OAAO,KAAKC,YAAY,MAAMC,aAAa,KAAlE,SACI,eAAC,IAAD,WACI,cAAC,IAAD,CAAKC,WAAW,WAAhB,SACI,mBAAG7B,KAAI,UAAKsB,EAAQQ,MAApB,SAA6BR,EAAQS,UAEzC,cAAC,IAAD,UACI,eAAC,IAAD,CAAMC,GAAI,EAAGC,SAAS,KAAtB,UACKX,EAAQY,OADb,KACuBhC,EAAcoB,EAAQa,sBAPmBjD,GAD/D,IAACoC,EAASpC,MAuDzBkD,E,kDACF,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IACDC,MAAQ,CAAEC,MAAO,KAAMC,UAAW,MAFtB,E,qDAKnB,SAAkBD,EAAOC,GAEvBC,KAAKC,SAAS,CACZH,MAAOA,EACPC,UAAWA,M,oBAKf,WACE,OAAIC,KAAKH,MAAME,UAGX,gCACE,uDACA,0BAASG,MAAO,CAAEC,WAAY,YAA9B,UACGH,KAAKH,MAAMC,OAASE,KAAKH,MAAMC,MAAMM,WACtC,uBACCJ,KAAKH,MAAME,UAAUM,qBAMvBL,KAAKJ,MAAMU,a,GA9BI1D,IAAMC,WAkCnB0D,EA7DE,WACb,MAAsCC,mBAAS,IAA/C,mBAAQC,EAAR,KAAoBC,EAApB,KAGMC,EAAMC,cAAcC,OACtB1C,EAAQ,IAAI2C,gBAAgBH,GAAKI,IAAI,MAAQ,GAYjD,OAXA5C,EAAQA,EAAM6C,OAAOC,QAAQ,IAAK,KAElCC,qBAAU,WACN,IAAMC,EAAO,uCAAG,sBAAAxD,EAAA,sDACZO,EAAUC,GACTiD,MAAK,SAAA7C,GAAa,OAAIC,EAAaD,MACnC6C,MAAK,SAACC,GAAD,OAASX,EAAcW,MAHjB,2CAAH,qDAKbF,MACD,IAGK,cAAC,EAAD,UACI,qBAAKG,UAAU,YAAf,SACKb,O,QC5FNc,MAXf,WACE,OACE,cAAC,IAAD,UACG,eAAC,IAAD,WACC,cAAC,EAAD,IACA,cAAC,EAAD,UCDOC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBN,MAAK,YAAkD,IAA/CO,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,K","file":"static/js/main.c624423b.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from \"react-router\";\nimport { \n    Button,\n    Box,\n    FormControl,\n    Input,\n    HStack,\n    Link\n} from \"@chakra-ui/react\"; \n\n// class SearchBar extends Component {\n//     constructor(props) {\n//         super(props);\n//         this.state = {\n//             query: '',\n//             news_object: {\"data\": []}\n//         }\n//     }\n\n//     handleSubmit(search_query) {\n//         this.setState({query: search_query.target.value});\n//     }\n\nclass SearchBar extends React.Component {\n    static propTypes = {\n        match: PropTypes.object.isRequired,\n        location: PropTypes.object.isRequired,\n        history: PropTypes.object.isRequired\n      }\n    render () {\n        return (\n            <Box>\n                <form \n                    action={process.env.REACT_APP_FRONTEND_ROOT_URL}\n                    method=\"get\"\n                >\n                    <FormControl>\n                        <HStack>\n                            <Input type=\"text\" placeholder=\"Search news posts\" id=\"header-search\" name=\"q\"/>\n                            <Link to={process.env.REACT_APP_FRONTEND_ROOT_URL}>\n                                <Button type=\"submit\">Search</Button>\n                            </Link>\n                        </HStack>            \n                    </FormControl>    \n                </form>\n            </Box>\n        )\n    }\n}\n\n\nexport default withRouter(SearchBar);","import React from \"react\";\nimport { FaLinkedin } from \"react-icons/fa\";\nimport { GoMarkGithub } from \"react-icons/go\";\nimport { IconContext } from \"react-icons\";\nimport { \n    Heading,\n    Flex,\n    Divider,\n    Spacer,\n    Box\n} from \"@chakra-ui/react\";\nimport { HStack } from \"@chakra-ui/react\";\nimport SearchBar from \"./search\";\n\n\nconst Header = () => {\n    return (\n        \n            <Flex\n                as=\"nav\"\n                align=\"center\"\n                justify=\"space-bewteen\"\n                wrap=\"wrap\"\n                padding=\"0.5rem\"\n                bg=\"aliceblue\"\n            >\n                <Box>\n                    <Heading as=\"h1\" size=\"sm\">\n                        <a href={process.env.REACT_APP_FRONTEND_ROOT_URL}>News Website</a>\n                    </Heading>\n                </Box>\n                <Spacer />\n                <Box>\n                    <SearchBar />\n                </Box>\n                <Spacer />\n                <HStack>\n                    <a href=\"https://github.com/andrewdash/newsapp\">\n                        <GoMarkGithub size=\"2em\"/>\n                    </a>\n                    <a href=\"https://www.linkedin.com/in/anwle/\">\n                        <FaLinkedin size=\"2em\" color=\"dodgerblue\"/>\n                    </a>\n                </HStack>\n                <Divider />\n            </Flex>\n    );\n};\n\nexport default Header;\n\n","function timeConverter(unix_timestamp) {\n    var a = new Date(unix_timestamp * 1000);\n    var months = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];\n    var year = a.getFullYear();\n    var month = months[a.getMonth()];\n    var date = a.getDate();\n    var time = date + '-' + month + '-' + year \n    return time;\n}\n\nexport default timeConverter;\n\n","import React, { useEffect, useState } from \"react\";\nimport PropTypes from 'prop-types';\nimport pushid from 'pushid';\nimport { useLocation } from 'react-router-dom';\nimport { \n    Box, \n    HStack,\n    VStack,\n    Stack,\n    Text\n} from '@chakra-ui/react';\nimport timeConverter from \"../utils/timeConverter\";\n\n\nconst NewsContext = React.createContext({\n    list_of_news: [], setNewsObject: () => {}\n});\n\n\nconst fetchNews = async (query) => {\n    let response = \"\";\n    if (query == \"\") {\n        response = await fetch(`${process.env.REACT_APP_FASTAPI_NEWSAPP_URL}`);\n    } \n    else {\n        response = await fetch(`${process.env.REACT_APP_FASTAPI_NEWSAPP_URL}?q=${query}&limit=10`)\n    }\n    const news_response = await response.json();\n    \n\n    // for testing\n    // let news_response = {\"data\": []};\n    // if (query == \"\") {\n    //     news_response = {\n    //         \"data\": [\n    //           {\n    //             \"title\": \"Vermont becomes first state to reach 80% vaccination; Gov. Scott says, \\\"There are no longer any state Covid-19 restrictions. None.\\\"\",\n    //             \"link\": \"https://www.wcax.com/2021/06/14/vermont-just-01-away-its-reopening-goal/\",\n    //             \"source\": \"Reddit\",\n    //             \"created_utc\": \"1634678911.0\"\n    //           },\n    //           {\n    //             \"title\": \"Her husband needs this life-support machine, but she says Florida has none to spare\",\n    //             \"link\": \"https://www.cnn.com/videos/health/2021/08/08/florida-woman-searching-for-ecmo-treatment-for-husband-out-of-state-hospital-icu-covid-19-vaccine-bts-ndwknd-vpx.cnn?utm_source=feedburner&amp;utm_medium=feed&amp;utm_campaign=Feed%3A+rss%2Fcnn_topstories+%28RSS%3A+CNN+-+Top+Stories%29\",\n    //             \"source\": \"Reddit\",\n    //             \"created_utc\": \"1634678914.0\"\n    //           }\n    //     ]}\n    // } else {\n    //     news_response = {\n    //         \"data\": [\n    //           {\n    //             \"title\": \"YYYEEEEEE HHAAAWWWW\",\n    //             \"link\": \"https://www.wcax.com/2021/06/14/vermont-just-01-away-its-reopening-goal/\",\n    //             \"source\": \"Reddit\",\n    //             \"created_utc\": \"1634678914.0\"\n    //           }\n    //     ]}\n    // }\n    return news_response;\n}\n\nconst setNewsItems = (news_data) => {\n    const NewsItem = (article, id) => (\n        <Box spacing={8} p=\"3\" shadow=\"md\" borderWidth=\"1px\" borderRadius=\"lg\" key={id}>\n            <Stack>\n                <Box fontWeight=\"semibold\">\n                    <a href={`${article.link}`}>{article.title}</a>\n                </Box>\n                <Box>\n                    <Text mt={2} fontSize=\"sm\">\n                        {article.source}: {timeConverter(article.created_utc)}\n                    </Text>\n                </Box>\n            </Stack>\n                \n        \n            \n        </Box>\n    );\n    const map_response_to_news_item = (response) => {\n        const news_item_data = response.data.map(\n            (news) => NewsItem(news, pushid())\n        );\n        return news_item_data;\n    }\n    const news_items = map_response_to_news_item(news_data);\n    return news_items;\n}\n\n\nconst NewsFeed = () => {\n    const [ newsObject, setNewsObject ] = useState([]);\n\n    // get the query inside the URL\n    const url = useLocation().search;\n    let query = new URLSearchParams(url).get('q') || \"\";\n    query = query.trim().replace(\" \", \"+\");\n\n    useEffect(() => {\n        const getNews = async () => {\n            fetchNews(query)\n            .then(news_response => setNewsItems(news_response))\n            .then((res) => setNewsObject(res))\n        };\n        getNews();\n    }, []);\n    \n    return (\n            <ErrorBoundary>\n                <div className=\"news-feed\">\n                    {newsObject}\n                </div>\n            </ErrorBoundary>\n    )\n}\n\n\nclass ErrorBoundary extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = { error: null, errorInfo: null};\n    }\n    \n    componentDidCatch(error, errorInfo) {\n      // Catch errors in any components below and re-render with error message\n      this.setState({\n        error: error,\n        errorInfo: errorInfo\n      })\n      // You can so log error messages to an error reporting service here\n    }\n    \n    render() {\n      if (this.state.errorInfo) {\n        // Error path\n        return (\n          <div>\n            <h2>Something went wrong.</h2>\n            <details style={{ whiteSpace: 'pre-wrap' }}>\n              {this.state.error && this.state.error.toString()}\n              <br />\n              {this.state.errorInfo.componentStack}\n            </details>\n          </div>\n        );\n      }\n      // Normally, just render children\n      return this.props.children;\n    }  \n}\n\nexport default NewsFeed;","import logo from './logo.svg';\nimport './App.css';\nimport * as React from \"react\";\nimport { ChakraProvider } from \"@chakra-ui/react\";\nimport Header from \"./components/Header\";\nimport NewsFeed from \"./components/NewsFeed\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nfunction App() {\n  return (\n    <BrowserRouter>\n       <ChakraProvider>\n        <Header/>\n        <NewsFeed/>\n      </ChakraProvider>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}